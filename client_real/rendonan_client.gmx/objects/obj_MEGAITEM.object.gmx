<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_Items</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>2</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>spr_ItemsMask</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_speed=0;

timer=0;
falling=1;
itemid=1+round(random(148));       //ID of Item

if itemid == 1 //coins
{quantity = 1 + round(random(32))}
else if itemid &gt;1 &amp;&amp; itemid &lt; 20 //potions
{quantity=1+round(random(1));}
else if itemid &gt;= 20 &amp;&amp; itemid &lt; 150 //armor
{quantity=1}
else
{quantity=120398571209687}

draw_details=false;
angle=(-45+random(90))
glow=0+random(pi);


//item_database();

if falling=1
{
    //Item Jump create event
    hspeed=-10+random(20);
    gravity_direction=270;
    gravity=1
    fall=5+random(20);
    vspeed=-4+random(-8);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>timer+=1

if timer &gt; 1800 + random(600) {instance_destroy();}

//item_database();


fall-=1
if fall &lt;= 0
{
    hspeed=0;
    gravity=0;
    vspeed=0; 
    fall=0; 
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="54">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if mouse_x &gt; x-16   &amp;&amp;
    mouse_x &lt; x+16  &amp;&amp;
     mouse_y &gt; y-16 &amp;&amp;
      mouse_y &lt; y+16
      {
        if itemid = 1
        {
            obj_Controller.money+=quantity
            instance_destroy();
        }
        else
        {
            obj_INVslots.item=itemid;
            obj_INVslots.quantity=quantity
            obj_INVslots.pickup_item=true;
            instance_destroy();
        }
      }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_details=false;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_details=true;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_sprite_ext(sprite_index,itemid,x,y,1,1,angle,c_white,1);

glow+=0.3;
draw_sprite_ext(sprite_index,itemid,x,y,1.1,1.1,angle,c_black,0.1+0.3*sin(glow));

if (draw_details)
{
    item_database(itemid);
    draw_set_halign(fa_center);
    draw_set_alpha(0.5);
    draw_set_color(c_white);
    draw_set_font(ft_menu3);
    draw_roundrect(mouse_x-3-0.5*string_width("[ "+string(quantity)+"x ]  "+string(itemname)),mouse_y-20,mouse_x+3+0.5*string_width("[ "+string(quantity)+"x ]"+string(itemname)),mouse_y-20+1*string_height("[ "+string(quantity)+"x ]"+string(itemname)),0);
    draw_set_color(c_navy);
    draw_set_alpha(1);
    draw_text(mouse_x,mouse_y-20,string(itemname)+string(" [")+string(quantity)+string("ï¿½]"));
    draw_set_halign(fa_left)
}


//draw_rectangle(mouse_x-3*string_length("[ "+string(quantity)+"x ]  "+string(itemname)),mouse_y-20,mouse_x+3*string_length("[ "+string(quantity)+"x ]"+string(itemname)),mouse_y-20+1*string_height("[ "+string(quantity)+"x ]"+string(itemname)),0);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
