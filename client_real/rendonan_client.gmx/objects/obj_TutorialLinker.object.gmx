<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-99999</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>timer=0         
step=0;

screenplay=0;
counting=0;

textduration=8*30
textinterval=2*30

regulatealpha=0;
alpha=0;

blackboxalpha=1;

if global.ComeFromTutorial=0 || global.ComeFromTutorial=1
{
    SS_SoundStopAll();
    //SS_LoopSound(global.sng_Intro);
}
    
chat=0;

skip=0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*
if SS_IsSoundPlaying(global.sng_Intro)
{
    SS_StopSound(global.sng_Intro);
}
*/
global.ComeFromTutorial=1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//if global.StartTutorial=1
//{
//room_goto(room_Tutorial1)
//global.StartTutorial=0
//}

//Skipping
if skip=1
{
    if step &lt; 5
    {
        room_speed=150;
    }
    else
    {
        room_speed=30;
        skip=0;
    }
}


if room=room_Tutorial1
{
//Start Tutorial + Flashscreen event (STORY INTRO)!
//instance_destroy();
//if keyboard_check_pressed(vk_enter) {room_goto(room_Town1)};

    if global.ComeFromTutorial = 0 || global.ComeFromTutorial = 1
    {
        if step=0
        {
            room_goto(room_pIntro1);
            step=1;
        }
    }
    
    else if global.ComeFromTutorial=2
    {
        room_goto(room_Town1);
        saypc(string("Welcome Back ")+string(obj_Controller.username),c_white);
        instance_destroy();
    }

}

if step=7
{
    instance_destroy();
    say("help",c_orange);
    saypc("Hello? Anybody there?",c_white);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>

if keyboard_check_pressed(ord('H')) &amp;&amp; step &lt; 5
{
    skip=1
}

if room=room_Tutorial1
{
    if step=0
    {   
        draw_set_color(c_black);
        draw_set_alpha(1);
        draw_rectangle(view_xview[0],view_yview[0],view_xview[0]+1000,view_yview[0]+640,0);
    }
}

if room=room_pIntro1
{
    if step=0 || step=1
    {
        //start screenplay
        screenplay=1;
    }
}

if room=room_pIntro1
{
    if blackboxalpha&lt;1
    {
        draw_grain(view_xview[0],view_yview[0],view_xview[0]+1000,view_yview[0]+540,c_white,1,0.6,1,60);
        draw_grain(view_xview[0],view_yview[0],view_xview[0]+1000,view_yview[0]+540,c_white,1,0.6,1,60);
        draw_grain(view_xview[0],view_yview[0],view_xview[0]+1000,view_yview[0]+540,c_white,1,0.6,1,60);
        draw_grain(view_xview[0],view_yview[0],view_xview[0]+1000,view_yview[0]+540,c_white,1,0.6,1,60);
        draw_grain(view_xview[0],view_yview[0],view_xview[0]+1000,view_yview[0]+540,c_white,1,0.6,1,60);
    }
}


//Screenplay
//argument0=string content;
//argument1=string color;
//argument2=string font;
//argument3=alpha
//argument4=break after width in pixels (600 suggested)

//alpha regulator
if regulatealpha=1
{
    if skip=0 {counting+=1} else {counting+=8}
    
    if counting &lt;= 30
    {
        if skip=0 {alpha+=0.03} else {alpha+=0.10} //about 1 second to fade up
    }

    if textduration-counting&lt;=30
    {
        if skip=0 {alpha-=0.03} else {alpha+=0.10}
    }
    
    if textduration-counting &lt;= 0
    {
        //reset action
        regulatealpha=0;
        alpha=0;
        counting=0;
    }
    
    if alpha&gt;=1 {alpha=1}
    if alpha&lt;=0 {alpha=0}
    
}

if screenplay=1
{
    //count up event timer
    if skip=0 {timer+=1} else {timer+=8}
    
    //draw black background
    draw_set_color(c_black);
    draw_set_alpha(blackboxalpha);
    draw_rectangle(view_xview[0],view_yview[0],view_xview[0]+1000,view_yview[0]+640,0);
    
    if timer&gt;1*textinterval+0*textduration &amp;&amp; timer &lt;= 1*textinterval+1*textduration
    {
        regulatealpha=1;
        storymode("It was a morning like all others. Nobody seemed to be bothered, and nobody could care.",c_white,ft_menu,alpha,600);
    }
    
    if timer&gt;2*textinterval+1*textduration &amp;&amp; timer &lt;= 2*textinterval+2*textduration
    {
        regulatealpha=1;
        storymode("The thoughts I was having all along..#What is the difference, how does my life differ from reality. What is it, that defines my imagination less real than reality?",c_white,ft_menu,alpha,600);
    }
    
    if timer&gt;3*textinterval+2*textduration &amp;&amp; timer &lt;= 3*textinterval+3*textduration
    {
        regulatealpha=1;
        storymode("Is everyones reality as real as mine, or is my reality the imaginary of the other?",c_white,ft_menu,alpha,600);
    }
    
    if timer&gt;4*textinterval+3*textduration &amp;&amp; timer &lt;= 4*textinterval+4*textduration
    {
        regulatealpha=1;
        storymode("I could not help it, but to go on expedition. I needed to know what it was. I packed my bags, ready for the trip. But once I was ready to leave, I remembered..###Something was wrong",c_white,ft_menu,alpha,600);
    }
    
    if timer&gt;5*textinterval+4*textduration
    {
        if skip=0 {blackboxalpha-=0.01} else {blackboxalpha-=0.08}
    }
    
    if blackboxalpha&lt;=0
    {
        screenplay=0;
        step=2;
        timer=0;
    }
    
}

if step=2
{
    if skip=0 {timer+=1} else {timer+=8}
    
    if timer&gt;1*textinterval+0*textduration &amp;&amp; timer &lt;= 1*textinterval+1*textduration
    {
        regulatealpha=1;
        storymode("I had forgotten everything about myself, yet again",c_white,ft_menu,alpha,600);
    }
    
    if timer&gt;2*textinterval+1*textduration &amp;&amp; timer &lt;= 2*textinterval+2*textduration
    {
        regulatealpha=1;
        storymode("Luckily, I did remember I could move by using the W,A,S,D keys on the keyboard. Even though I have never really understood what this 'keyboard' is.",c_white,ft_menu,alpha,600);
    }
    
    if timer&gt;3*textinterval+2*textduration &amp;&amp; timer &lt;= 3*textinterval+3*textduration
    {
        regulatealpha=1;
        storymode("I could also still recall that the 'K' key allowed me to jump, no matter where I was.",c_white,ft_menu,alpha,600);
    }
    
    if timer&gt;4*textinterval+3*textduration &amp;&amp; timer &lt;= 4*textinterval+4*textduration
    {
        regulatealpha=1;
        storymode("For some reason, some buttons right now do not work. It is as if.. it only works on special locations. I recall something with being in danger",c_white,ft_menu,alpha,600);
    }
    
    if timer&gt;5*textinterval+4*textduration &amp;&amp; timer &lt;= 5*textinterval+5*textduration
    {
        regulatealpha=1;
        storymode("Mercifully I still have my pet with me. My mouse has always guided me no matter when. My mouse allowed me to open my menu, and helps me browsing through my backpack.",c_white,ft_menu,alpha,600);
    }
    
    if timer&gt;6*textinterval+5*textduration &amp;&amp; timer &lt;= 6*textinterval+6*textduration
    {
        regulatealpha=1;
        storymode("Even the C, V, B, N, M and P keys helped my mouse when she was too busy.",c_white,ft_menu,alpha,600);
    }
    
    if timer&gt;7*textinterval+6*textduration &amp;&amp; timer &lt;= 7*textinterval+7*textduration
    {
        regulatealpha=1;
        storymode("The 'enter' button on the keyboard, allowed me to talk to myself, and receive information as I went along. Sadly, I cannot see the panel at the moment. It may return to me soon.",c_white,ft_menu,alpha,600);
    }
    
    if timer&gt;8*textinterval+7*textduration &amp;&amp; timer &lt;= 8*textinterval+8*textduration
    {
        regulatealpha=1;
        storymode("The F1 key has always helped me when I was in trouble of losing my memory. It has something magical. When I held it it, and it revealed the F1 secrets only I could find.",c_white,ft_menu,alpha,600);
    }
    
    if timer&gt;9*textinterval+8*textduration
    {
        timer=0;
        step=3;
    }
    
}

if step=3
{
    if skip=0 {blackboxalpha+=0.01} else {blackboxalpha+=0.08}
    //draw black background
    draw_set_color(c_black);
    draw_set_alpha(blackboxalpha);
    draw_rectangle(view_xview[0],view_yview[0],view_xview[0]+1000,view_yview[0]+640,0);
    
    if blackboxalpha&gt;=1
    {
        blackboxalpha=1
        step=4
    }

}

if step=4
{
    //count up event timer
    if skip=0 {timer+=1} else {timer+=8}
    
    //draw black background
    draw_set_color(c_black);
    draw_set_alpha(blackboxalpha);
    draw_rectangle(view_xview[0],view_yview[0],view_xview[0]+1000,view_yview[0]+640,0);
    
    if timer&gt;1*textinterval+0*textduration &amp;&amp; timer &lt;= 1*textinterval+1*textduration
    {
        regulatealpha=1;
        storymode("My mind tends to play with me, and protects me from the imaginary of others",c_white,ft_menu,alpha,600);
    }
    
    if timer&gt;2*textinterval+1*textduration &amp;&amp; timer &lt;= 2*textinterval+2*textduration
    {
        regulatealpha=1;
        storymode("But it had never foreseen what came next. It was not prepared for this.",c_white,ft_menu,alpha,600);
    }
    
    if timer&gt;3*textinterval+2*textduration &amp;&amp; timer &lt;= 3*textinterval+3*textduration
    {
        regulatealpha=1;
        storymode("Chapter 1: The intrusion, of my own imagination.",c_white,ft_menu,alpha,600);
    }
    
    if timer&gt;4*textinterval+3*textduration &amp;&amp; timer &lt;= 4*textinterval+4*textduration
    {
        regulatealpha=1;
        storymode("My very own imagination.. ",c_white,ft_menu,alpha,600);
    }
    
    if timer&gt;5*textinterval+4*textduration &amp;&amp; timer &lt;= 6*textinterval+5*textduration + 38
    {
        regulatealpha=1;
        storymode("REALITY! ",c_white,ft_menu,alpha,600);
        /*
        SS_StopSound(global.sng_Intro);
        if !SS_IsSoundPlaying(snd_Thunder) {SS_PlaySound(snd_Thunder);}
        */
    }
    
    if timer&gt;5*textinterval+4*textduration +30 &amp;&amp; timer &lt;= 5*textinterval+5*textduration + 32
    {
        blackboxalpha=0
        draw_set_color(c_black);
        draw_set_font(ft_Intro);
        draw_set_halign(fa_center);
        draw_set_valign(fa_center);
        draw_set_alpha(1);
        draw_text_ext(view_xview[0]+500,view_yview[0]+320,"REALITY!",-1,600);
    }
    
    if timer&gt;5*textinterval+4*textduration + 32 &amp;&amp; timer &lt;= 5*textinterval+5*textduration + 34
    {
        blackboxalpha=1
        draw_set_color(c_white);
        draw_set_font(ft_Intro);
        draw_set_halign(fa_center);
        draw_set_valign(fa_center);
        draw_set_alpha(1);
        draw_text_ext(view_xview[0]+500,view_yview[0]+320,"REALITY!",-1,600);
        room=room_Tutorial1;
    }
    
    if timer&gt;5*textinterval+4*textduration + 34 &amp;&amp; timer &lt;= 5*textinterval+5*textduration + 36
    {
        blackboxalpha=0
        draw_set_color(c_black);
        draw_set_font(ft_Intro);
        draw_set_halign(fa_center);
        draw_set_valign(fa_center);
        draw_set_alpha(1);
        draw_text_ext(view_xview[0]+500,view_yview[0]+320,"REALITY!",-1,600);
    }
    
    if timer&gt;5*textinterval+4*textduration + 36 &amp;&amp; timer &lt;= 5*textinterval+5*textduration + 38
    {
        blackboxalpha=1
        draw_set_color(c_white);
        draw_set_font(ft_Intro);
        draw_set_halign(fa_center);
        draw_set_valign(fa_center);
        draw_set_alpha(1);
        draw_text_ext(view_xview[0]+500,view_yview[0]+320,"REALITY!",-1,600);
    }
    
    if timer&gt;5*textinterval+4*textduration + 40
    {
        blackboxalpha-=0.01
    }
    
    if timer&gt;5*textinterval+4*textduration + 40 &amp;&amp; blackboxalpha&lt;=0
    {
    
        draw_set_color(c_black);
        draw_set_alpha(1);
        draw_set_halign(fa_left);
        draw_set_valign(fa_top);
    
        step=5;
        timer=0;
    }
}

if step=5
{
    timer+=1
    
    if timer&gt;=40
    {
        //Allows player to continue to next chatbox using J
        if keyboard_check_pressed(ord('J'))
        {
            if instance_exists(obj_Chatbox)
            {
                if obj_Chatbox.delay=0
                {
                   chat=round(chat)
                }
            }
            else if !instance_exists(obj_Chatbox)
            {
                chat=round(chat)
            }
        }
        
        //Chat content
        if chat=0
        {
            create=instance_create(x,y,obj_Chatbox)
            Chatmode(obj_Controller.username,"Woah! what just happened?",1,0);
            chat=0.9
        }
        
        else if chat=1
        {
            create=instance_create(x,y,obj_Chatbox)
            Chatmode(obj_Controller.username,"Where am I anyway..",1,0);
            chat=1.9
        }
    
        else if chat=2
        {
            create=instance_create(x,y,obj_Chatbox)
            Chatmode(obj_Controller.username,"This place does not look familiar to me#at all. I have to find out what is going on.",1,0);
            chat=2.9
            
        }    
        else if chat=3
        {
            chat=0;
            timer=0;
            step=6;
            create=instance_create(x,y,obj_Chatbox)
            Chatmode("","",1,0);
            with (create) {instance_destroy();}
            
        }
        
    }
}

if step=6
{
    timer+=1
    
    if timer&gt;= 40
    {
        //Allows player to continue to next chatbox using J
        if keyboard_check_pressed(ord('J'))
        {
            if instance_exists(obj_Chatbox)
            {
                if obj_Chatbox.delay=0
                {
                   chat=round(chat)
                }
            }
            else if !instance_exists(obj_Chatbox)
            {
                chat=round(chat)
            }
        }
    
        //Chat content    
        if chat=0
        {
            create=instance_create(x,y,obj_Chatbox)
            create.colorspec=c_teal;
            Chatmode("Game",string("Hello there ")+string(obj_Controller.username),1,0);
            chat=0.9
        }    
        
        else if chat=1
        {
            create=instance_create(x,y,obj_Chatbox)
            create.colorspec=c_teal;
            Chatmode("Game","I see you have finally arrived!#Understandingly, you are full of questions.",1,0);
            chat=1.9
        }    
        
        else if chat=2
        {
            create=instance_create(x,y,obj_Chatbox)
            create.colorspec=c_teal;
            Chatmode("Game","Perhaps you should figure the answers yourself.#After all, you are me",1,0);
            chat=2.9
        }    
        
        else if chat=3
        {
            create=instance_create(x,y,obj_Chatbox)
            Chatmode(obj_Controller.username,"I am you..? This does not make any sense at all",1,0);
            chat=3.9
        }    
        
        else if chat=4
        {
            create=instance_create(x,y,obj_Chatbox)
            create.colorspec=c_teal;
            Chatmode("Game","I thought you might say that. You see, you...#are in your fantasy world",1,0);
            chat=4.9
        }   
        
        else if chat=5
        {
            create=instance_create(x,y,obj_Chatbox)
            Chatmode(obj_Controller.username,"You mean.. I am asleep? I am starting to freak out slightly",1,0);
            chat=5.9
        }   
        
        else if chat=6
        {
            create=instance_create(x,y,obj_Chatbox)
            Chatmode(obj_Controller.username,"*pinches*",1,0);
            chat=6.9
        }   
        
        else if chat=7
        {
            create=instance_create(x,y,obj_Chatbox)
            create.colorspec=c_teal;
            Chatmode("Game","Sadly no, you're not asleep.#Pinching yourself will not work",1,0);
            chat=7.9
        }
        
        else if chat=8
        {
            create=instance_create(x,y,obj_Chatbox)
            create.colorspec=c_teal;
            Chatmode("Game","Is this not where you wanted to be all this time?",1,0);
            chat=8.9
        } 
        
        else if chat=9
        {
            create=instance_create(x,y,obj_Chatbox)
            Chatmode(obj_Controller.username,"I don't know. Can't you help me out here?",1,0);
            chat=9.9
        } 
        
        else if chat=10
        {
            create=instance_create(x,y,obj_Chatbox)
            Chatmode(""," ... ... ... ",1,0);
            chat=10.9
        } 
        
        else if chat=11
        {
            create=instance_create(x,y,obj_Chatbox)
            Chatmode(obj_Controller.username,"Game? Are you there?",1,0);
            chat=11.9
        } 
        
        else if chat=12
        {
            create=instance_create(x,y,obj_Chatbox)
            Chatmode(obj_Controller.username,"Hello?",1,0);
            chat=12.9
        } 
        
        else if chat=13
        {
            create=instance_create(x,y,obj_Chatbox)
            Chatmode(obj_Controller.username,"Ugh.. I suppose I should get moving and#explore the area a bit.",1,0);
            chat=13.9
        } 
        
        else if chat=14
        {
            chat=0;
            timer=0;
            step=7;
            create=instance_create(x,y,obj_Chatbox)
            Chatmode("","",1,0);
            with (create) {instance_destroy();}
        }
    }
}

//draw skipping text
if skip=0
{
    draw_set_color(c_white)
    draw_set_alpha(0.7)
    draw_set_font(ft_Chatbox);
    draw_set_halign(fa_left)
    draw_set_valign(fa_top);
    draw_text(view_xview[0],view_yview[0]+10,"#Press &lt;H&gt; to to skip");
}
else
{
    draw_set_color(c_red)
    draw_set_alpha(0.7)
    draw_set_font(ft_Chatbox);
    draw_set_halign(fa_left)
    draw_set_valign(fa_top);
    draw_text(view_xview[0],view_yview[0]+10,"#&lt; Skipping the scene &gt;");
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
